###########################################
# Home Sensors
###########################################
- platform: nest
  monitored_conditions:
  - 'temperature'
  - 'humidity'
  - 'operation_mode'
- platform: nzbget
  host: !secret nas_address
  port: 6789
  username: !secret nzbget_username
  password: !secret nzbget_password
  monitored_variables:
  - download_rate
- platform: command_line
  unit_of_measurement: 'ppm'
  command: !secret withings_api 
  # withings_api: 'curl "https://healthmate.withings.com/index/service/v2/measure" -H "Cookie: frontend=aaaaaa; session_key=aaaaa; language=en_CA; w_ar=2; current_user=aaaa" -H "Origin: https://healthmate.withings.com" -H "Accept-Encoding: gzip, deflate, br" -H "Accept-Language: en-US,en;q=0.8" -H "User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/53.0.2785.116 Safari/537.36" -H "Content-Type: application/x-www-form-urlencoded; charset=UTF-8" -H "Accept: */*" -H "Referer: https://healthmate.withings.com/" -H "X-Requested-With: XMLHttpRequest" -H "Connection: keep-alive" -H "DNT: 1" --data "sessionid=aaaaaaa&meastype=12"%"2C35&deviceid=111111&appname=my2&appliver=a111111&apppfm=web&action=getmeashf" --compressed | | jq .body.series[1].data[-1].value'
  name: 'CO2'
- platform: template
  sensors:
    home_temperature:
      value_template: "{{ states.climate.home.attributes.current_temperature if states.climate.home is not none else 'unknown' }}"
      unit_of_measurement: 'C'
      entity_id: climate.home
- platform: template
  sensors:
    climate_operation_mode:
      value_template: "{{ states.climate.home.attributes.operation_mode if states.climate.home is not none else 'unknown' }}"
      entity_id: climate.home
###########################################
# Weather Sensors
###########################################
- platform: yr
  monitored_conditions:
  - 'temperature'
  - 'humidity'
  - 'symbol'
- platform: forecast
  api_key: !secret forecast_api
  monitored_conditions:
  - 'precip_probability'
  - 'temperature_min'
  - 'temperature_max'
- platform: wunderground
  api_key: !secret wunderground_api
  monitored_conditions:
  - 'feelslike_c'
  - 'wind_kph'
  - 'UV'
  - 'precip_today_metric'

###########################################
# Travel Sensors
###########################################
- platform: google_travel_time
  name: Home to Enmax
  api_key: !secret google_maps
  origin: zone.home
  destination: !secret work_address1
- platform: google_travel_time
  name: Home to Supported Lifestyles
  api_key: !secret google_maps
  origin: zone.home
  destination: !secret work_address2
